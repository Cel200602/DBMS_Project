{% extends "base.html" %}

{% block content %}
<div class="dashboard-header">
    <h1>Admin Dashboard</h1>
    <div class="user-info">
        <p>Logged in as: {{ current_user.full_name }} (Admin)</p>
    </div>
</div>

<div class="tab-container">
    <div class="tab-buttons">
        <button class="tab-btn {% if active_tab == 'IncidentEntry' %}active{% endif %}"
            onclick="openTab(event, 'IncidentEntry')">Incident Entry</button>
        <button class="tab-btn {% if active_tab == 'Verification' %}active{% endif %}"
            onclick="openTab(event, 'Verification')">Verification</button>
        <button class="tab-btn {% if active_tab == 'Rank' %}active{% endif %}"
            onclick="openTab(event, 'Rank')">Rank</button>
        <button class="tab-btn {% if active_tab == 'Records' %}active{% endif %}"
            onclick="openTab(event, 'Records')">Records</button>
        <button class="tab-btn {% if active_tab == 'Profile' %}active{% endif %}"
            onclick="openTab(event, 'Profile')">Profile</button>
    </div>

    <div id="IncidentEntry" class="tab-content {% if active_tab == 'IncidentEntry' %}active{% endif %}">
        {% include 'admin/incident_entry.html' %}
    </div>

    <div id="Verification" class="tab-content {% if active_tab == 'Verification' %}active{% endif %}">
        <h2>Pending Verifications</h2>
        <p>List of incidents waiting for verification.</p>
        <!-- Could reuse incident entry or a separate list here -->
    </div>

    <div id="Rank" class="tab-content {% if active_tab == 'Rank' %}active{% endif %}">
        {% include 'admin/rank.html' %}
    </div>

    <div id="Records" class="tab-content {% if active_tab == 'Records' %}active{% endif %}">
        {% include 'admin/records.html' %}
    </div>

    <div id="Profile" class="tab-content {% if active_tab == 'Profile' %}active{% endif %}">
        {% include 'admin/profile.html' %}
    </div>
</div>

<script>
    function openTab(evt, tabName) {
        var i, tabcontent, tablinks;
        tabcontent = document.getElementsByClassName("tab-content");
        for (i = 0; i < tabcontent.length; i++) {
            tabcontent[i].style.display = "none";
            tabcontent[i].classList.remove("active");
        }
        tablinks = document.getElementsByClassName("tab-btn");
        for (i = 0; i < tablinks.length; i++) {
            tablinks[i].className = tablinks[i].className.replace(" active", "");
        }
        document.getElementById(tabName).style.display = "block";
        document.getElementById(tabName).classList.add("active");
        evt.currentTarget.className += " active";
    }
</script>
{% endblock %}